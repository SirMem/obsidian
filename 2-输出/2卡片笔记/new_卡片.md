---
due: 2023-11-19 

title: new_卡片
tags:
 
- Cplus 卡片
---
# 🍎重点摘抄
在 C++ 中，`new` 运算符不仅可以用于分配内存，还可以调用对象的构造函数来初始化这块分配的内存。

## 操作
当你使用 `new` 运算符来分配内存给一个类的对象时，它会执行以下操作：
1. 分配足够的内存来存储这个对象。
2. 调用对象的构造函数来初始化这块内存中的对象。

例如，假设有一个名为 `MyClass` 的类，你可以使用 `new` 运算符来创建 `MyClass` 类的对象：

```cpp
MyClass *ptr = new MyClass(); // 创建一个 MyClass 类的对象
```

在这个例子中，`new` 运算符分配了足够的内存来存储 `MyClass` 类的对象，并调用了默认构造函数（如果存在）来初始化这个对象。

如果类有带参数的构造函数，你也可以传递参数给 `new` 运算符，它将调用相应的构造函数来初始化对象：

```cpp
MyClass *ptr = new MyClass(10, "Hello"); // 创建一个 MyClass 类的对象，使用带参数的构造函数进行初始化
```

这种使用 `new` 运算符动态分配内存并调用构造函数来初始化对象的能力，使得它在动态创建对象时非常有用。需要注意的是，对于使用 `new` 运算符分配的内存，需要使用 `delete` 运算符来手动释放，避免内存泄漏。

```cpp
delete ptr; // 释放由 new 分配的内存
```

在 C++11 之后，推荐使用智能指针（例如 `std::unique_ptr` 或 `std::shared_ptr`）来管理动态分配的内存，以避免手动管理内存时出现的潜在问题。这些智能指针能够自动释放资源，减少内存泄漏的风险。

## new后面的内存机制
## 构造函数分配内存

# 📒相关文章




# 🍏引用链接

