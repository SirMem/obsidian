---
due: 2023-11-01
title: 构造函数和构析函数_卡片
tags:
  - 卡片
  - Cplus
---
# 🍎重点摘抄
## 构造函数
### 定义
构造函数（constructor）是一种特殊的成员函数，它用于初始化类对象的数据成员。也就是说，当创建完一个对象之后，就会执行构造函数。构造函数不需要显式定义函数类型。构造函数的函数类型是与类的名称相同的，而不像普通函数需要指定返回类型。

### 基本声明方式
在类中创建与类名相同名称的函数,如
```cpp
class Line {
	public
//第一个思路创建构造函数
		Line(){
			//内容
		}
		Line(double len){
			//内容
		}



//第二个思路创建构造函数
		Line(); // 这是构造函数
		Line(double len); //这是带参数的构造函数
}

Line::Line(){
//也可以这样执行内容
}

Line::Line(double len)
{
//也可以这样执行内容
}
```

### 初始化列表
初始化列表（initialization list）是构造函数定义中的一部分，用于在对象创建时<font color="#f79646">初始化成员变量</font>，而不是在构造函数体内执行赋值操作。初始化列表通常用于提高效率、避免不必要的赋值操作以及执行特定的初始化步骤。如
```cpp
class Person {
public:
    // 构造函数，使用初始化列表
    Person(const std: :string& name, int age) : name(name), age(age) //首先对private变量进行赋值{
        // 构造函数体
    }

private:
    std::string name;
    int age;
};

```
### 初始化列表的使用
- 通过新建对象后加入()传递初始化信息,如

```cpp
Person Cherno("hello");
```

- 通过赋值的方式传递初始化信息

```cpp
Person Cherno = Person("Hello");
```
它们是等价的
### 对象的参数传递
当有了构造函数之后，创建的变量可以有不同的参数，也可以没有参数，以执行不同的构造函数。如
```cpp
int main(){  //主函数
	Line name1();
	Line name2(3.14); //不同的参数就会执行不同的构造函数
}
```

### 应用
1. 对象的初始化：构造函数用于初始化对象的数据成员，确保对象在创建时处于一个合理的状态。这包括设置默认值、分配内存、打开文件、建立数据库连接等。构造函数在对象创建时自动调用，确保对象的正确初始化。
    
2. 参数传递：构造函数可以接受参数，这些参数用于传递初始化对象的值。这允许你在创建对象时指定不同的初始值，以便根据需要个性化对象的属性。
    
3. 重载：你可以为同一个类定义多个构造函数，每个构造函数可以接受不同的参数列表，这称为构造函数的重载。重载构造函数允许你创建对象时选择不同的初始化方式，根据参数的不同来调用不同的构造函数。
    
4. 默认构造函数：如果你没有提供自定义的构造函数，C++编译器会为你生成默认构造函数。默认构造函数通常执行一些基本的初始化操作，如将数据成员设置为默认值。它允许你创建不需要额外参数的对象。
    
5. 初始化列表：构造函数的初始化列表允许你在创建对象时使用成员初始化列表来初始化对象的成员变量，而不是在函数体内执行赋值操作。这提高了效率并允许在对象构造时执行特定操作，如分配内存。
    
6. 类的特殊行为：构造函数可以用于执行类的特殊行为，例如日志记录、性能测量、资源管理和错误处理。它们可以执行任何你认为在对象创建时必须执行的操作。

## 构析函数
**析构函数**是类的一种特殊的成员函数，它会在每次删除所创建的对象时执行。析构函数的名称与类的名称是完全相同的，只是在前面加了个波浪号（~）作为前缀，它不会返回任何值，也不能带有任何参数。析构函数有助于在跳出程序（比如关闭文件、释放内存等）前释放资源。
```cpp
class Person{
	public
		~Person(){
			//可以这样创建构析函数
		}
		~Person();
}

Person::~Person(){
	//也可以这样创建构析函数
}
```


# 📒相关文章




# 🍏引用链接

