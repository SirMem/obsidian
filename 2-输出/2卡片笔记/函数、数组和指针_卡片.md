---
due: "2023-10-18"
title: "函数、数组和指针_卡片"
tags:
  - "c语言 卡片"
---
# 📖长青笔记(简要概述)



# 📘自我重述




# 🍎重点摘抄
## example 
假设要编写一个处理数组的函数，该函数返回数组中所有元素之和，待处理的是名为marbles的int类型数组。应该如何调用该函数？也许是下面这样：total = sum(marbles); // 可能的函数调用

## 指针名表示数组
假设要编写一个处理数组的函数，该函数返回数组中所有元素之和，待处理的是名为marbles的int类型数组。应该如何调用该函数？也许是下面这样：total = sum(marbles); // 可能的函数调用
```
int sum(int * ar, int n)
// 更通用的方法
{
int i;
int total = 0;
for (i = 0; i < n; i++)
total += ar[i]; // ar[i] 和 *(ar + i) 相同
return total;
}
```
## 数组名表示指针
关于函数的形参，还有一点要注意。只有在函数原型或函数定义头中，才可以用int ar\[]代替int * ar：int sum(int ar\[],int n);
int * ar形式和int ar[]形式都表示ar是一个指向int的指针。但是，int ar[]只能用于声明形式参数。第2种形式（int ar[]）提醒读者指针ar指向的不仅仅一个int类型值，还是一个int类型数组的元素。
### 注意 声明数组形参
因为数组名是该数组首元素的地址，作为实际参数的数组名要求形式参
数是一个与之匹配的指针。只有在这种情况下，C才会把int ar[]和int * ar解
释成一样。也就是说，ar是指向int的指针。由于函数原型可以省略参数名，
所以下面4种原型都是等价的：
```
int sum(int *ar, int n);
int sum(int *, int);
int sum(int ar[],int n);
int sum(int [],int);
```
但是，在函数定义中不能省略参数名。

## 使用指针形参
一元运算符* 和++的优先级相同，但结合律是从右往左，所以start++先
求值，然后才是* start。也就是说，指针start先递增后指向。使用后缀形式
（即start++而不是++start）意味着先把指针指向位置上的值加到total上，然
后再递增指针。如果使用*++start，顺序则反过来，先递增指针，再使用指
针指向位置上的值。如果使用(* start)++，则先使用start指向的值，再递增该
值，而不是递增指针。这样，指针将一直指向同一个位置，但是该位置上的
值发生了变化。虽然* start++的写法比较常用，但是*(start++)这样写更清
楚。
# 📒相关文章
