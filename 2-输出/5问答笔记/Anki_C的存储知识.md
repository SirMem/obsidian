---
cards-deck: 2-输出::5问答笔记
tags:
  - Anki
  - C语言
---


# 摘录挖空区
## 作用域
### 定义
作用域（Scope）是指程序中变量、函数和其他命名实体的可见性和有效性范围。作用域规定了在程序的特定部分中哪些标识符可以被访问、使用以及在何处有效
### 基本作用域
1. **全局作用域（Global Scope）**：全局作用域是指在整个程序中都可见和有效的作用域。全局作用域内声明的变量和函数可以在程序的任何地方访问。
    
2. **局部作用域（Local Scope）**：局部作用域是指在特定代码块（如函数、循环或条件语句块等）内部定义的变量或函数的作用域。局部作用域中的变量通常只在其所在的代码块中可见和有效。
3. **块级作用域（Block Scope）**：在一对花括号 `{}` 内部声明的变量具有块级作用域，在其定义的块内有效，出了这个块就不再有效。For,while,if内新建变量具有块级作用域，当离开块后则被销毁。
## 存储期
在编程语言中，存储期（Storage Duration）指的是程序中变量或对象在内存中的存在时间长度。它定义了变量或对象的存储空间分配和释放的时机。

常见的存储期包括以下几种：

1. **静态存储期（Static Storage Duration）**：具有静态存储期的变量在程序的整个生命周期内都存在，并且在程序启动时分配内存，直到程序结束时才被释放。静态变量通常在全局作用域或使用 `static` 关键字声明的局部变量中定义。

2. **自动存储期（Automatic Storage Duration）**：具有自动存储期的变量在其所属的作用域中创建时分配内存，在作用域结束时自动释放。这些变量通常是函数内部的局部变量，它们在函数执行时创建，在函数执行结束时被销毁。

3. **动态存储期（Dynamic Storage Duration）**：具有动态存储期的对象在程序员显式地分配内存，并且在程序员明确释放它们之前一直存在。在C++中，使用 `new` 和 `delete` 或 `malloc()` 和 `free()` 等操作动态分配和释放内存的对象具有动态存储期。

存储期与变量或对象的生命周期密切相关，影响着它们在程序执行过程中的存在时间和可访问性。正确理解和管理变量的存储期有助于避免内存泄漏、优化内存使用和提高程序性能。

## 翻译单元和文件 → 编译原理

## 链接 →编译原理 and 多文件编译
C 变量有 3 种链接属性：==外部链接、内部链接或无链接==。
^1697182109378
具有块作用域、函数作用域或函数原型作用域的变量都是==无链接变量==。这意味着这些变量属于定义它们的块、函数或原型==私有==。
^1697182109385
具有文件作用域的变量可以是外部链接或==内部==链接。外部链接变量可以在==多文件程序中==使用，内部链接变量只能在==一个翻译单元==中使用
^1697182109390

## 存储类别说明符 →编译原理，多文件编译
C语言有6个关键字作为存储类别说明符：==auto、register、static、extern、\_Thread_local和typedef。==
^1697182109406
auto说明符表明变量是==自动存储期==，只能用于==块作用域的变量声明中==。由于在块中声明的变量==本身就具有自动存储期==，所以使用auto主要是为了==明确表达要使用与外部变量同名的局部变量的意图==。自动变量不会初始化，除非==显式初始化==它
^1697182109411
static 说明符创建的对象具有==静态存储期==，载入程序时==创建对象==，当程序结束时==对象消失==。如果static 用于==文件作用域声明==，作用域==受限于该文件==，即产生了内部链接。如果 static 用于块作用域声明，==作用域则受限于该块==，即无链接。
^1697182109416
extern 说明符表明声明的变量定义在别处。如果包含 extern 的声明具有==文件作用域==，则引用的变量必须具有==外部链接==。如果包含 extern 的声明具有块作用域，则引用的变量可能具有==外部链接或内部链接==，这接取决于该变量的==定义式声明==。
^1697182109420
register存储类别说明符可声明==寄存器变量==，因为声明变量为register类别与直接命令




## 存储类别→编译原理
C 使用作用域、链接和存储期为变量定义了多种存储方案。本书不涉及并发程序设计，所以不再赘述这方面的内容。已分配存储期在本章后面介绍。因此，剩下5种存储类别：==自动、寄存器、静态块作用域、静态外部链接、静态内部链接==
^1697182925852
![[nPpXHawlbwqKtrsN-85e625b7-c654-1add-ff60-5a20b9e6ac67.png|986]]
块作用域和无链接意味着==只有在变量定义所在的块中才能通过变量名访问该变量==（当然，参数用于传递变量的值和地址给另一个函数，但是这是间接的方法）。另一个函数可以使用同名变量，但是该变量是储存在==不同内存位置==上的另一个变量。
^1697182925857
变量具有自动存储期意味着，程序在进入该变量声明所在的块时变量==存在==，程序在退出该块时变量==消失==。原来该变量占用的内存位置现在==可做他用==。
^1697182925862


