---
due: 2023-10-25 

title: 指针的运算_重述
tags:
 
- c语言 重述
---


> [!summary]+ summary
>简要地阐述怎么使用指针运算


# 🤔问题:
## 指针运算在哪些场景有应用
数组访问
字符串操作
分配内存操作



# 🤔相关联:
[[指针_重述]]
[[分配内存_重述]]
[[数组_重述]]

# 📘自我重述

## 指针的类型决定运算单位
指针运算的步长取决于指针的数据类型。例如，一个`int`指针每次加1会移动到下一个`int`大小的内存位置
## 指针算术运算
### 加法
可以将整数值加到指针上，以移动指针指向内存中的下一个元素。例如，`ptr + 1` 将使指针 `ptr` 指向下一个元素。
### 减法
同样，您可以将整数值从指针中减去，以向前移动指针。例如，`ptr - 1` 将使指针 `ptr` 指向前一个元素。

### 指针之间求差
可以对两个指针执行减法操作，以计算它们之间的偏移量（差值）。这通常用于确定两个指针指向的内存位置之间的距离。指针之间的差值是以指针的数据类型为单位的。假设有两个指针 `ptr1` 和 `ptr2`，您可以通过执行 `ptr2 - ptr1` 来计算它们之间的差值。这将返回一个整数，表示指针 `ptr2` 指向的内存位置在指针 `ptr1` 指向的内存位置之后的偏移量。
```
int arr[] = {1, 2, 3, 4, 5};
int *ptr1 = &arr[1];
int *ptr2 = &arr[4];

ptrdiff_t diff = ptr2 - ptr1;  // 计算两指针之间的偏移
printf("Distance: %td\n", diff);
//输出结果为3，表示ptr2和ptr1相差3个int类型字长
```

### 比较
可以比较两个指针以确定它们是否指向相同的内存位置。也可以用于逻辑和循环判断，比如ptr1在ptr2之后，如果ptr1>ptr2，则返回true；如果ptr1<=ptr2，则返回false。

## 应用
- **数组访问**：指针运算与数组紧密相关。您可以使用指针运算来遍历数组元素，而不需要使用数组索引。例如，`int *ptr = arr;` 后，`ptr` 可以用于访问数组 `arr` 的元素。
- **动态内存分配**：`malloc`、`calloc` 和 `realloc` 等函数返回的是指向动态分配内存的指针。您可以使用指针运算来遍历或操作这些内存块。
- **字符串操作**：C中的字符串通常以字符数组的形式存储，您可以使用指针运算来操作字符串中的字符
# 💻代码区