---
due: 2023-10-25 

title: æŒ‡é’ˆçš„è¿ç®—_é‡è¿°
tags:
 
- cè¯­è¨€ é‡è¿°
---


> [!summary]+ summary
>ç®€è¦åœ°é˜è¿°æ€Žä¹ˆä½¿ç”¨æŒ‡é’ˆè¿ç®—


# ðŸ¤”é—®é¢˜:
## æŒ‡é’ˆè¿ç®—åœ¨å“ªäº›åœºæ™¯æœ‰åº”ç”¨
æ•°ç»„è®¿é—®
å­—ç¬¦ä¸²æ“ä½œ
åˆ†é…å†…å­˜æ“ä½œ



# ðŸ¤”ç›¸å…³è”:
[[æŒ‡é’ˆ_é‡è¿°]]
[[åˆ†é…å†…å­˜_é‡è¿°]]
[[æ•°ç»„_é‡è¿°]]

# ðŸ“˜è‡ªæˆ‘é‡è¿°

## æŒ‡é’ˆçš„ç±»åž‹å†³å®šè¿ç®—å•ä½
æŒ‡é’ˆè¿ç®—çš„æ­¥é•¿å–å†³äºŽæŒ‡é’ˆçš„æ•°æ®ç±»åž‹ã€‚ä¾‹å¦‚ï¼Œä¸€ä¸ª`int`æŒ‡é’ˆæ¯æ¬¡åŠ 1ä¼šç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ª`int`å¤§å°çš„å†…å­˜ä½ç½®
## æŒ‡é’ˆç®—æœ¯è¿ç®—
### åŠ æ³•
å¯ä»¥å°†æ•´æ•°å€¼åŠ åˆ°æŒ‡é’ˆä¸Šï¼Œä»¥ç§»åŠ¨æŒ‡é’ˆæŒ‡å‘å†…å­˜ä¸­çš„ä¸‹ä¸€ä¸ªå…ƒç´ ã€‚ä¾‹å¦‚ï¼Œ`ptr + 1` å°†ä½¿æŒ‡é’ˆ `ptr` æŒ‡å‘ä¸‹ä¸€ä¸ªå…ƒç´ ã€‚
### å‡æ³•
åŒæ ·ï¼Œæ‚¨å¯ä»¥å°†æ•´æ•°å€¼ä»ŽæŒ‡é’ˆä¸­å‡åŽ»ï¼Œä»¥å‘å‰ç§»åŠ¨æŒ‡é’ˆã€‚ä¾‹å¦‚ï¼Œ`ptr - 1` å°†ä½¿æŒ‡é’ˆ `ptr` æŒ‡å‘å‰ä¸€ä¸ªå…ƒç´ ã€‚

### æŒ‡é’ˆä¹‹é—´æ±‚å·®
å¯ä»¥å¯¹ä¸¤ä¸ªæŒ‡é’ˆæ‰§è¡Œå‡æ³•æ“ä½œï¼Œä»¥è®¡ç®—å®ƒä»¬ä¹‹é—´çš„åç§»é‡ï¼ˆå·®å€¼ï¼‰ã€‚è¿™é€šå¸¸ç”¨äºŽç¡®å®šä¸¤ä¸ªæŒ‡é’ˆæŒ‡å‘çš„å†…å­˜ä½ç½®ä¹‹é—´çš„è·ç¦»ã€‚æŒ‡é’ˆä¹‹é—´çš„å·®å€¼æ˜¯ä»¥æŒ‡é’ˆçš„æ•°æ®ç±»åž‹ä¸ºå•ä½çš„ã€‚å‡è®¾æœ‰ä¸¤ä¸ªæŒ‡é’ˆ `ptr1` å’Œ `ptr2`ï¼Œæ‚¨å¯ä»¥é€šè¿‡æ‰§è¡Œ `ptr2 - ptr1` æ¥è®¡ç®—å®ƒä»¬ä¹‹é—´çš„å·®å€¼ã€‚è¿™å°†è¿”å›žä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæŒ‡é’ˆ `ptr2` æŒ‡å‘çš„å†…å­˜ä½ç½®åœ¨æŒ‡é’ˆ `ptr1` æŒ‡å‘çš„å†…å­˜ä½ç½®ä¹‹åŽçš„åç§»é‡ã€‚
```
int arr[] = {1, 2, 3, 4, 5};
int *ptr1 = &arr[1];
int *ptr2 = &arr[4];

ptrdiff_t diff = ptr2 - ptr1;  // è®¡ç®—ä¸¤æŒ‡é’ˆä¹‹é—´çš„åç§»
printf("Distance: %td\n", diff);
//è¾“å‡ºç»“æžœä¸º3ï¼Œè¡¨ç¤ºptr2å’Œptr1ç›¸å·®3ä¸ªintç±»åž‹å­—é•¿
```

### æ¯”è¾ƒ
å¯ä»¥æ¯”è¾ƒä¸¤ä¸ªæŒ‡é’ˆä»¥ç¡®å®šå®ƒä»¬æ˜¯å¦æŒ‡å‘ç›¸åŒçš„å†…å­˜ä½ç½®ã€‚ä¹Ÿå¯ä»¥ç”¨äºŽé€»è¾‘å’Œå¾ªçŽ¯åˆ¤æ–­ï¼Œæ¯”å¦‚ptr1åœ¨ptr2ä¹‹åŽï¼Œå¦‚æžœptr1>ptr2ï¼Œåˆ™è¿”å›žtrueï¼›å¦‚æžœptr1<=ptr2ï¼Œåˆ™è¿”å›žfalseã€‚

## åº”ç”¨
- **æ•°ç»„è®¿é—®**ï¼šæŒ‡é’ˆè¿ç®—ä¸Žæ•°ç»„ç´§å¯†ç›¸å…³ã€‚æ‚¨å¯ä»¥ä½¿ç”¨æŒ‡é’ˆè¿ç®—æ¥éåŽ†æ•°ç»„å…ƒç´ ï¼Œè€Œä¸éœ€è¦ä½¿ç”¨æ•°ç»„ç´¢å¼•ã€‚ä¾‹å¦‚ï¼Œ`int *ptr = arr;` åŽï¼Œ`ptr` å¯ä»¥ç”¨äºŽè®¿é—®æ•°ç»„ `arr` çš„å…ƒç´ ã€‚
- **åŠ¨æ€å†…å­˜åˆ†é…**ï¼š`malloc`ã€`calloc` å’Œ `realloc` ç­‰å‡½æ•°è¿”å›žçš„æ˜¯æŒ‡å‘åŠ¨æ€åˆ†é…å†…å­˜çš„æŒ‡é’ˆã€‚æ‚¨å¯ä»¥ä½¿ç”¨æŒ‡é’ˆè¿ç®—æ¥éåŽ†æˆ–æ“ä½œè¿™äº›å†…å­˜å—ã€‚
- **å­—ç¬¦ä¸²æ“ä½œ**ï¼šCä¸­çš„å­—ç¬¦ä¸²é€šå¸¸ä»¥å­—ç¬¦æ•°ç»„çš„å½¢å¼å­˜å‚¨ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨æŒ‡é’ˆè¿ç®—æ¥æ“ä½œå­—ç¬¦ä¸²ä¸­çš„å­—ç¬¦
# ðŸ’»ä»£ç åŒº