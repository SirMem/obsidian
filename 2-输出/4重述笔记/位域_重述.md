---
due: 2023-10-26 

title: 位域_重述
tags:
 
- c语言 重述
---


> [!summary]+ summary
>简要讲述位域的概念


# 🤔问题:
## 位域有什么用




# 🤔相关联:
[[结构体、共用体_重述]]
[[位运算]]


# 📘自我重述
## 概念
位域（Bit Fields）是一种数据结构，用于定义一个整数类型的成员，但你可以指定该成员占用的位数，以便更有效地利用内存。位域通常用于处理位级别的数据，例如在位图、硬件寄存器、协议帧等方面非常有用。

## 语法
```
struct BitFieldStruct {
    unsigned int field1 : n;
    int field2 : m;
    // ...
};
// 在整数类型中，field1只占内存中的n位
```

## 主要特点
### 位数指定
**位数指定**：你可以指定每个位域成员所占用的位数。例如，`unsigned int field1 : 3;` 意味着 `field1` 只占用3位。
### 符号性
**符号性**：位域可以是有符号的或无符号的，具体取决于位域成员的类型。例如，`unsigned int` 或 `int`。 
#### 有符号而言
```
struct BitFieldStruct {
    int field1 : 3;  // 3位的带符号整数位域
};
```
对于上述的 `field1`，它可以表示范围为-4到3的整数，因为3位的二进制补码可以表示从-4到3的8个不同的值。
```
- `000` represents 0
- `001` represents 1
- `010` represents 2
- `011` represents 3
- `100` represents -4
- `101` represents -3
- `110` represents -2
- `111` represents -1
```

#### 无符号而言
如果位域成员使用无符号整数类型（如`unsigned int`），则位域只能表示非负整数
```
struct BitFieldStruct {
    unsigned int field1 : 3;  // 3位的无符号整数位域
};
```
对于上述的 `field1`，它可以表示范围为0到7的整数，因为3位的二进制补码可以表示从0到7的8个不同的值。

### 存储大小
**存储大小**：位域成员的存储大小取决于位数。在内存中，多个位域成员可以打包到一个字或更大的单元中。
### 位运算
**位运算**：你可以使用位运算操作来操作位域成员的值，如按位与、按位或、按位移位等。

# 💻代码区